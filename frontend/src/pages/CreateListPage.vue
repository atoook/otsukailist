<script>
import ContentArea from '../components/ContentArea.vue';
import MainButton from '../components/MainButton.vue';
import TextInputWithLabel from '../components/TextInputWithLabel.vue';

export default {
  name: 'CreateListPage',
  components: {
    ContentArea,
    MainButton,
    TextInputWithLabel
  },
  data() {
    return {
      listName: ''
    };
  },
  methods: {
    createList() {
      if (this.listName.trim()) {
        // ãƒªã‚¹ãƒˆIDã‚’ç”Ÿæˆï¼ˆå®Ÿéš›ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯APIã‹ã‚‰å–å¾—ï¼‰
        const listId = Date.now().toString();

        // TODO: APIã§ãƒªã‚¹ãƒˆã‚’ä½œæˆ
        console.log('ãƒªã‚¹ãƒˆå:', this.listName);
        console.log('ãƒªã‚¹ãƒˆID:', listId);

        // ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆç”»é¢ã«é·ç§»
        this.$router.push({
          name: 'ItemList',
          params: { id: listId },
          query: { name: this.listName }
        });
      }
    }
  }
};
</script>

<template>
  <ContentArea>
    <div class="text-center mb-6">
      <div class="text-5xl mb-3">ğŸ–</div>
      <h2 class="text-2xl font-bold font-serif text-charcoal-800 mb-2">ãƒªã‚¹ãƒˆåã‚’è¨­å®š</h2>
      <p class="text-sm text-charcoal-600">ç¾å‘³ã—ã„è²·ã„ç‰©ãƒªã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†</p>
    </div>

    <div class="mb-6">
      <TextInputWithLabel input-id="listName" label="ğŸ– ãƒªã‚¹ãƒˆå" placeholder="ä¾‹ï¼šä»Šæ—¥ã®BBQææ–™" v-model="listName" />
    </div>

    <div class="flex flex-col gap-3">
      <MainButton @click="createList" :disabled="!listName.trim()"> ãƒªã‚¹ãƒˆã‚’ä½œæˆ </MainButton>
    </div>
  </ContentArea>
</template>
