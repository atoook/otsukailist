# テスト環境用 MySQL設定 - メモリ使用量を最小化
[mysqld]
# 基本設定
character-set-server=utf8mb4
collation-server=utf8mb4_unicode_ci
explicit_defaults_for_timestamp=1

# パフォーマンス調整（メモリ節約）
innodb_buffer_pool_size=128M
innodb_log_file_size=64M
innodb_log_files_in_group=2
max_connections=50

# テスト用軽量化設定
performance_schema=OFF
skip-name-resolve
skip-host-cache

# MyISAM設定（軽量化）
key_buffer_size=32M
table_open_cache=64
sort_buffer_size=512K
read_buffer_size=256K
read_rnd_buffer_size=512K
myisam_sort_buffer_size=8M
thread_cache_size=8
tmp_table_size=16M
max_heap_table_size=16M

# InnoDB軽量化
innodb_flush_log_at_trx_commit=2
innodb_file_per_table=1
innodb_open_files=300

[client]
default-character-set=utf8mb4