# ç’°å¢ƒåˆ¥å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰

## ğŸš€ å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰ä¸€è¦§ï¼ˆbackend/ ã‹ã‚‰å®Ÿè¡Œï¼‰

### é–‹ç™ºç’°å¢ƒ

```bash
# é–‹ç™ºDBèµ·å‹• & ã‚¢ãƒ—ãƒªå®Ÿè¡Œ
../env.sh dev up
./gradlew bootRun

# åœæ­¢
../env.sh dev down
```

### ãƒ†ã‚¹ãƒˆç’°å¢ƒ

```bash
# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆæ¨å¥¨ï¼‰
./gradlew test              # DBè‡ªå‹•èµ·å‹•ãƒ»åœæ­¢

# æ‰‹å‹•ç®¡ç†
../env.sh test up        # DBèµ·å‹•
./gradlew test --offline    # ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
../env.sh test down         # DBåœæ­¢
```

### CI ç’°å¢ƒï¼ˆå°†æ¥ç”¨ï¼‰

```bash
../env.sh ci up
./gradlew check
../env.sh ci down
```

---

## ğŸ“‹ ç’°å¢ƒã®è©³ç´°

### ç’°å¢ƒåˆ†é›¢

- **é–‹ç™º**: port 3306ã€ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–
- **ãƒ†ã‚¹ãƒˆ**: port 3307ã€tmpfsï¼ˆé«˜é€Ÿãƒ»ä¸€æ™‚ãƒ‡ãƒ¼ã‚¿ï¼‰
- **CI**: ä»Šå¾Œå®Ÿè£…äºˆå®š

### æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«

```
../env.sh                     # ç’°å¢ƒç®¡ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
../db/docker-compose.*.yml    # ç’°å¢ƒåˆ¥DBè¨­å®š
gradle/test-db.gradle         # ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–
```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

```bash
# ç’°å¢ƒçŠ¶æ…‹ç¢ºèª
../env.sh [dev|test] status

# ç’°å¢ƒãƒªã‚»ãƒƒãƒˆ
../env.sh [dev|test] down
../env.sh [dev|test] up

# ãƒãƒ¼ãƒˆç¢ºèª
lsof -i :3306  # é–‹ç™º
lsof -i :3307  # ãƒ†ã‚¹ãƒˆ
```

### ã‚ˆãã‚ã‚‹æ“ä½œ

```bash
# é–‹ç™ºä¸­ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
../env.sh dev up && ./gradlew bootRun

# ãƒ†ã‚¹ãƒˆ + é™çš„è§£æ
./gradlew check

# å“è³ªãƒã‚§ãƒƒã‚¯å…¨å®Ÿè¡Œ
./gradlew staticAnalysis
```
