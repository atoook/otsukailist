spring:
  # データベース設定
  datasource:
    url: jdbc:mysql://${MYSQL_HOST:localhost}:${MYSQL_PORT:3306}/${MYSQL_DATABASE:otsukailist}?useSSL=false&serverTimezone=Asia/Tokyo&characterEncoding=UTF-8&allowPublicKeyRetrieval=true
    username: ${MYSQL_USER:otsukailist_user}
    password: ${MYSQL_PASSWORD:otsukailist_password}
    driver-class-name: com.mysql.cj.jdbc.Driver

  # JPA設定
  jpa:
    hibernate:
      ddl-auto: validate # 本番ではvalidateを使用
    show-sql: true
    properties:
      hibernate:
        "[format_sql]": true
        dialect: org.hibernate.dialect.MySQL8Dialect
        # UUID効率化設定 - BINARY(16)での保存
        type:
          "[preferred_uuid_jdbc_type]": BINARY

# ログ設定
logging:
  level:
    "[org.hibernate.SQL]": DEBUG
    "[org.hibernate.type.descriptor.sql.BasicBinder]": TRACE
    "[com.atoook.otsukailist]": DEBUG

# アプリケーション設定
server:
  port: 8080
